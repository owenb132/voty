<div ng-controller="EditPollCtrl" class="container">
    <label for="pollText">Poll title</label>
    <input type="text" name="pollText" value="poll.text" ng-model="poll.text">
    
    <label>Poll options</label>
    <div ng-if="poll.owner === profile._id">
        <ul>
            <li ng-repeat="option in poll.options track by $index">
                <input type="text" value="{{option.text}}" ng-model="poll.options[$index].text" placeholder="Enter your option here.">
            </li>
        </ul>
        <button ng-click="addOption()" class="button secondary">Add option</button>

        <div class="button-group">
            <button ng-click="saveUpdates()" class="button primary">Save</button>
            <button ng-click="deletePoll()" class="button alert">Delete</button>
        </div>
    </div>

    <div ng-if="poll.owner !== profile._id">
        <h1>You cannot edit this poll.</h1>
    </div>
</div>
</div>